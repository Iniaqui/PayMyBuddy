<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DBConstants.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">payMyBuddy</a> &gt; <a href="index.source.html" class="el_package">payMyBuddySystem.constants</a> &gt; <span class="el_source">DBConstants.java</span></div><h1>DBConstants.java</h1><pre class="source lang-java linenums">package payMyBuddySystem.constants;

<span class="nc" id="L3">public class DBConstants {</span>
	//Users
		public static final String SAVE_USER = &quot;INSERT INTO users(username,password,balance,step) VALUES(?,?,?,?)&quot;;
		public static final String READ_USER_BY_ID = &quot;SELECT idUser,username,balance,step FROM users WHERE idUser = ? &quot;;
		public static final String UPDATE_USER = &quot;UPDATE users set username= ?, balance =? ,step = ? where idUser=?  &quot;;
		public static final String DELETE_USER = &quot;UPDATE users SET step = ?  WHERE idUser =? &quot;;
		public static final String GET_ALL_USERS = &quot;SELECT idUser,mail,balance,step FROM users&quot;;
		public static final String READ_USER_BY_MAIL_PASS= &quot;SELECT idUser,username,balance,step FROM users WHERE username = ? and password=? &quot;;
		public static final String READ_USER_BY_MAIL= &quot;SELECT idUser,username,balance,step,password FROM users WHERE username = ?&quot;;
		// Transactions
		
		public static final String UPDATE_USER_BALANCE=&quot;UPDATE users set balance = ? WHERE idUser = ?&quot;;
		
		public static final String SAVE_TRANSACTION = &quot;INSERT INTO transactions(idUserReceiver,idUserSender,idMotif, fees,amount,transactionType) VALUES(?,?,?,?,?,?)&quot;;
		public static final String READ_TRANSACTION = &quot;SELECT idTransaction,idUserReceiver,idUserSender,idMotif,fees,amount,transactionType WHERE idTransaction = ? &quot;;
		public static final String READ_TRANSACTIONS_BY_MAIL = &quot;select  transactions.idTransaction,\r\n&quot;
				+ &quot;		transactions.idUserReceiver,\r\n&quot;
				+ &quot;        transactions.idUserSender,\r\n&quot;
				+ &quot;        transactions.idMotif,\r\n&quot;
				+ &quot;        transactions.fees,\r\n&quot;
				+ &quot;        transactions.amount,\r\n&quot;
				+ &quot;        transactions.transactionType \r\n&quot;
				+ &quot;FROM transactions \r\n&quot;
				+ &quot;INNER JOIN users \r\n&quot;
				+ &quot;	ON users.idUser = transactions.idUserReceiver \r\n&quot;
				+ &quot;    OR users.idUser = transactions.idUserSender\r\n&quot;
				+ &quot; WHERE users.username = ?; &quot;;
		
		public static final String READ_TRANSACTION_BY_MAIL2 = &quot;SELECT * FROM paymybundy.transactions WHERE idUserReceiver=? OR idUserSender=?&quot;;
		// UserFriend
		public static final String SAVE_USER_FRIEND = &quot;INSERT INTO userfriend(idUser,idFriend)  VALUES (? ,?)&quot;;
		public static final String READ_USER_FRIEND = &quot;SELECT idRelation ,idFriend, idUser FROM userfriend WHERE idUser = ? OR idFriend= ? &quot;;
		public static final String DELETE_USER_FRIEND = &quot;DELETE  FROM paymybundy.userfriend WHERE (idUser= ? OR idFriend = ?) AND( idUser=? OR idFriend=?) &quot;;
		public static final String READ_USER_FRIEND_BY_MAIL = &quot;SELECT idUser,mail,balance,step FROM users WHERE mail = ?&quot;;
		
		// MOTIF
		public static final String SAVE_MOTIF = &quot;INSERT INTO motif(descriptionMotif) VALUES( ?) &quot;;
		public static final String READ_MOTIF = &quot;SELECT idMotif, descriptionMotif FROM motif WHERE idMotif = ? &quot;;
		public static final String READ_MOTIF_BY_MAIL =&quot;SELECT descriptionMotif,m.idMotif FROM motif m, transactions t, users u \r\n&quot;
				+ &quot;WHERE m.idMotif = t.idMotif \r\n&quot;
				+ &quot;AND  (t.idUserReceiver=u.idUser OR t.idUserSender = u.idUser)\r\n&quot;
				+ &quot;\r\n&quot;
				+ &quot;AND u.mail = ?&quot;;
		
		// BANK 
		public static final String SAVE_BANK = &quot;INSERT INTO bank(idUser,iban ,swift,acount) VALUES (?,?,?,?)&quot;;
		public static final String READ_BANK = &quot;SELECT idUser, iban ,swift,acount  FROM bank WHERE idBank = ? &quot;;
		public static final String DELETE_BANK = &quot;DELETE FROM bank WHERE idBank = ? &quot;;
		public static final String UPDATE_BANK = &quot;UPDATE bank set iban = ? , swift = ? ,acount = ? WHERE idBank=?&quot;;
		public static final String READ_BANK_BY_MAIL = &quot;SELECT idBank, iban ,swift,acount  FROM bank WHERE idUser = ?&quot;;
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>